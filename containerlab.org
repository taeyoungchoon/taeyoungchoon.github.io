* TODO [2021-11-22 월] testing on wsl

https://containerlab.srlinux.dev/quickstart/#fn:2

[2021-11-22 월] 요즘 virtualbox가 동작을 안해서 고생하고 있다.

https://containerlab.srlinux.dev/install/
say about wsl

install docker-ce

curl -L https://gist.githubusercontent.com/hellt/e8095c1719a3ea0051165ff282d2b62a/raw/1dffb71d0495bb2be953c489cd06a25656d974a4/docker-install.sh | \
bash

THEN

bash -c "$(curl -sL https://get-clab.srlinux.dev)"
mkdir ~/clab-quickstart
cd ~/clab-quickstart
cp /etc/containerlab/lab-examples/srlceos01/* .
cp /mnt/t/t-archive/2021.11.05\ cloudeos\ from\ arista\ korea/cEOS-lab-4.27.0F.tar .
docker import cEOS-lab-4.27.0F.tar ceos:4.27.0F
docker images
sudo containerlab deploy --topo srlceos01.clab.yml

CLI

ssh admin@172.20.20.3
docker exec -it <name> sr_cli
docker exec -it <name> Cli

CLEAR

containerlab destroy --topo srlceos01.clab.yml
* TODO [2022-05-24 화] then again on debian 22.04 LTS

# download srlinux using docker, simply
docker pull ghcr.io/nokia/srlinux
docker images

# dig in later with below strings
# 
# https://qiita.com/h9803660/items/2d9ab958e93a361cff71
# docker create --name=ceos --privileged -p 443:443 -e CEOS=1 -e container=docker -e EOS_PLATFORM=ceoslab -e SKIP_ZEROTOUCH_BARRIER_IN_SYSDBINIT=1 -e ETBA=1 -e INTFTYPE=eth -i -t ceos:latest /sbin/init
# docker network create net1
# docker network create net2
# docker network connect net1 ceos
# docker network connect net2 ceos
# docker start ceos
# docker exec -it ceos Cli

# download ceos image from arista.com, manually
#   arista.com > Software Download > EOS > cEOS-lab > EOS-4.27.4M > cEOS-lab-4.27.4M.tar.xz
docker import cEOS-lab-4.27.4M.tar.xz ceos:4.27.4M
docker image ls

# make containerlab using example, stream edit cfg based on ceos image
mkdir ~/clab-quickstart
cd ~/clab-quickstart
cp -a /etc/containerlab/lab-examples/srlceos01/* .
cat /etc/containerlab/lab-examples/srlceos01/srlceos01.clab.yml | sed 's/4.25.0F/4.27.4M/' > srlceos01.clab.yml
diff /etc/containerlab/lab-examples/srlceos01/srlceos01.clab.yml srlceos01.clab.yml 

# start
sudo containerlab deploy  --topo srlceos01.clab.yml

# test
echo test
docker exec -it clab-srlceos01-srl1 sr_cli
docker exec -it clab-srlceos01-ceos Cli

# stop
sudo containerlab destroy --topo srlceos01.clab.yml 
