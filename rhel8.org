#+LATEX_HEADER: \usepackage{kotex}
* say

한글로

* from wiki(pedia)

Red Hat Enterprise Linux 8 (Ootpa) is based on Fedora 28, upstream Linux kernel 4.18, GCC 8.2, glibc 2.28, systemd 239, and GNOME 3.28. The first beta was announced on November 14, 2018.[20] Red Hat Enterprise Linux 8 was officially released on May 7, 2019.

#+BEGIN_SRC 
#+LATEX_HEADER: \usepackage{kotex}
#+END_SRC

* yum, pkg, package
* cli then key

1. subscription-manager status
2. yum repolist
3. subscription-manager register --auto-attach

* general

- yum list all

* odd, now

- yum module list

* TODO [1/1] todo

- [X] local repo
  https://www.centlinux.com/2019/07/configure-local-yum-dnf-repository-in-rhel-8.html

* DONE without license and gui

#+BEGIN_SRC
$ ssh root@192.168.25.122
The authenticity of host '192.168.25.122 (192.168.25.122)' can't be established.ECDSA key fingerprint is SHA256:3ag2awpB9f8pIA91zM8cViAFtIjxr3P9gm
m0H/Mzeow.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.25.122' (ECDSA) to the list of known hosts.
root@192.168.25.122's password:
Activate the web console with: systemctl enable --now cockpit.socket

Register this system with Red Hat Insights: insights-client --register

[root@localhost ~]# cat /etc/xdg/autostart/org.gnome.SettingsDaemon.Subscription.desktop |grep -i gsd-subman
Exec=/usr/libexec/gsd-subman
[root@localhost ~]# ed /etc/xdg/autostart/org.gnome.SettingsDaemon.Subscription.desktop
246

?
/gsd-subman
Exec=/usr/libexec/gsd-subman
 subscription-manager-cockpit                    noarch                    1.28.29-3.el8                       @anaconda                    3.7 M

Transaction Summary
==================================================================================================================================================
Remove  1 Package

Freed space: 3.7 M
Is this ok [y/N]: y
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                                          1/1
  Erasing          : subscription-manager-cockpit-1.28.29-3.el8.noarch                                                                        1/1
  Running scriptlet: subscription-manager-cockpit-1.28.29-3.el8.noarch                                                                        1/1
  Verifying        : subscription-manager-cockpit-1.28.29-3.el8.noarch                                                                        1/1
Installed products updated.

Removed:
  subscription-manager-cockpit-1.28.29-3.el8.noarch

Complete!
[root@localhost ~]#
#+END_SRC

* DONE This system is not registered to Red Hat Subscription Management. 

** msg

#+BEGIN_SRC 
[root@localhost repo]# yum repolist
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered with an entitlement server. You can use subscription-manager to register.

[root@localhost repo]#
#+END_SRC

** steps to do

#+BEGIN_SRC 
[root@localhost ~]# cat subscription-manager.conf.ed
/enabled
s/1/0/
w
q
[root@localhost ~]#
#+END_SRC

#+BEGIN_SRC 
[root@localhost ~]# cat subscription-manager.conf.ed | ed /etc/yum/pluginconf.d/subscription-manager.conf &>/dev/null
[root@localhost ~]# cat /etc/yum/pluginconf.d/subscription-manager.conf | grep enabled
enabled=0

[root@localhost yum.repos.d]# yum repolist
No repositories available
#+END_SRC

* DONE repo

** steps

https://access.redhat.com/solutions/3776721

mkdir -p /data/repo
mv rhel-8.6-x86_64-dvd.iso /data
mount -o loop /data/rhel-8.6-x86_64-dvd.iso /media
cp -a /media/* /data/repo/

#+BEGIN_SRC 
[root@localhost repo]# cat > /etc/yum.repos.d/local.repo <<EOF
> [Local-Repo-BaseOS]
> name=Local Repo for RHEL - BaseOS
> baseurl=file:///data/repo/BaseOS
> enabled=1
> gpgcheck=1
> gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
>
> [Local-Repo-AppStream]
> name=Local Repo for RHEL - AppStream
> baseurl=file:///data/repo/AppStream
> enabled=1
> gpgcheck=1
> gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
> EOF
[root@localhost repo]#
#+END_SRC

#+BEGIN_SRC 
[root@localhost ~]# cat /etc/yum.repos.d/local.repo
[local-BaseOS]
name=DVD for RHEL - BaseOS
baseurl=file:///data/repo/BaseOS
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release

[local-AppStream]
name=DVD for RHEL - AppStream
baseurl=file:///data/repo/AppStream
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
[root@localhost ~]#
#+END_SRC

#+BEGIN_SRC 
[root@localhost repo]# yum clean all
0 files removed

[root@localhost repo]# yum repolist
repo id                                     repo name
local-AppStream                             DVD for RHEL - AppStream
local-BaseOS                                DVD for RHEL - BaseOS
[root@localhost repo]#
#+END_SRC

* DONE nmcli edit and modify

#+BEGIN_SRC 
[root@localhost network-scripts]# nmcli connection edit ens3
nmcli> print connection.autoconnect
connection.autoconnect: no
nmcli> set connection.autoconnect yes
nmcli> save persistent
nmcli> q
[root@localhost network-scripts]#
#+END_SRC

#+BEGIN_SRC 
[root@localhost network-scripts]# cat ifcfg-ens3  | grep ONBOOT
ONBOOT=yes
#+END_SRC

- describe connection.autoconnect
- verify all

#+BEGIN_SRC 
[root@localhost network-scripts]# nmcli connection modify ens3 connection.autoconnect yes
[root@localhost network-scripts]# cat ifcfg-ens3 | grep ONBOOT
ONBOOT=yes
[root@localhost network-scripts]#
#+END_SRC
