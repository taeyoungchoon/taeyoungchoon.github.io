#+Title: foo
#+Options: H:1 num:t toc:t

* compute
** think about

- not computer
- robot
- HAL, 2001

** interface

- shell

** infra
*** spof
*** proxy
*** amazon ec2 and more
*** monitoring

- nagios
- mon

*** configration management

- puppet
- cfengine

*** versioning

- git vs github
- svn
- cvs

** network

- trunk, etherchannel, bonding
- IPv6 Tunnel Broker

** virus or more
*** up2date

- java
- adobe flash
- vaccine
- windows
*** vaccine

**** AhnLab V3 Internet Security Process Listing

***** Pure Process List

| Process name | Description |
|--------------+-------------|
| V3Svc.exe    | Service     |
| V3SP.exe     | Tray        |

***** PA Based Process list

| Process name | Description  |
|--------------+--------------|
| PaSvc.exe    | Policy Agent |
| V3Svc.exe    | Service      |
| V3SP.exe     | Tray         |

*** forensics

- Forensic Toolkit (FTK)

*** reversing

- ALZ?!
- http://reversing.kr
- [[http://heavyrainslab.tistory.com][악성코드와 하율파파]]
* memo

- moleskine
- planner

* cinema

** pre

- http://imdb.com
- http://trailers.apple.com
* emacs

- major, minor

** dot
** list-package
  
** macro

| key   | desc    | alternative |
|-------+---------+-------------|
| C-x ( | start   |             |
| C-x ) | end     |             |
| C-x e | execute | f4          |

** eshell
** org

- C-c C-e

** slime
** tramp
** ace-swap-window
** resize-window
** select all

- C-x h

** remove CR
   
- M-x delete-trailing-whitespace
* book

- 월든
- 논어
- 21세기 자본론
* certificate
- 한국사능력검정시험
- 컴퓨터활용능력
- 네트워크관리사
- 정보보안기사,산업기사
* = sep =
* tools & tips defines me
** swatch
** Executor

- http://www.executor.dk
- General > Hotkey : Windows + Z
- Indexing & cache > t:\sysinternals, index depth 0
- Indexing & cache > t:\portableapps, index depth 2, extensions exe

** AutoHotkey
*** sample

- filename : backspace.ahk

#+BEGIN_SRC
#NoEnv  ; Recommended for performance and compatibility with future AutoHotkey releases.
; #Warn ; Enable warnings to assist with detecting common errors.
SendMode Input  ; Recommended for new scripts due to its superior speed and reliability.
SetWorkingDir %A_ScriptDir%  ; Ensures a consistent starting directory.

^h::
   Send {Backspace}

Capslock::Ctrl
#+END_SRC

** english
** google

- site:foo.domain something
- image.google.com

** slideshare
** Magic SysRq Key, RSEUB > REISUB

*** about key command

#+ATTR_HTML: :border 1 :rules all :frame border
| key | desc    | more |
|-----+---------+------|
| r   | Raw     | ?    |
| e   | sigtErm |      |
| i   | sigkIll |      |
| s   | Sync    |      |
| u   | Umount  |      |
| b   | Boot    |      |

*** enable

**** shell

- echo 1 > /proc/sys/kernel/sysrq

**** /etc/sysctl.conf

- kernel.sysrq = 1

*** pre, Ctrl + Alt + F1

- virtual console first

*** do it

**** way 1

- Alt + SysRq + Key

**** way 2

- echo b > /proc/sysrq-trigger

** freemind on any
** firefox +firebug +yslow
** fping -g 192.168.0.100 192.168.0.120
** nmap -O

- -O
- -p 22,80
- --script ssl-cert
- 192.168.0.100-120

** lsof | grep apache
** strace -e open ls
** dmesg -c
** od -x foo.text
** ls -ltr | tail -10
** netstat -ano
** loop
*** watch --differences=cumulative date
** snmp with getif
** disk with smart then smartmontools
** procexp, procmon, tcpview, sigcheck -vr
** virustotal
** redmine
** ipconfig | findstr /i 
** ipconfig.co.kr
** net stats svr
** nbtstat, net share, net use
** arp
** nagios
** capistrano

-  cap shell

** expect
** ps aux | wc -l vs ls /proc | grep ^[0-9] | wc -l
** ssh foo.com date
** telnet foo.domain 25

*** sample

#+BEGIN_SRC

helo localhost
mail from: jack@foo.domain
rcpt to: raul@bar.domain
data
.
quit

#+END_SRC

** df -h, df -i
** du -hs
** rsync -e ssh

| option | desc                            | more         |
|--------+---------------------------------+--------------|
| v      | verbose                         |              |
| z      | compressor                      |              |
| r      | recursive                       |              |
| P      | progress                        |              |
| h      | human                           |              |
| e      | specify the remote shell to use | man rsync(1) |

#+BEGIN_SRC
rsync -vrz rsync-src/ /cygdrive/o/rsync-dst
rsync -hPrz rsync-src/ /cygdrive/o/rsync-dst
#+END_SRC

** pstree
** cp -a, cp -dpR
** rm -i, \rm
** cal then sar -f /var/log/sa/sa29
** dot
* in compute
* hardware
** serial
** modem
** usb
*** usb2serial
*** host
*** nic
**** rndis
**** CDC-ECM
** bios?
** memory
** cpu
** disk, storage
* programming
** lisp on emacs or clisp
*** list
*** when?
*** sample
#+BEGIN_SRC

(cons t nil)
(if 1 2 3)
(when 1 2 3)
(cond (1 2) (3 4))
(loop for i from 1 to 10 collect i)
(defun foo () (format t "this is foo"))
(random 10)

#+END_SRC
** perl or shell script(bash or more)
*** string
*** cpan
*** sample
#+BEGIN_SRC

foreach $line (<>) {
  $line ~= s/\r//g;
  $line ~= s/\n//g;
  print $line . "\n";q
}

#+END_SRC
** c
*** sample
#+BEGIN_SRC

#include <stdio.h>

int main()
{
  printf("hello, world\n");
  return 0;
}

#+END_SRC
** sed -f
*** sample
#+BEGIN_SRC

s/\\x61/a/g

#+END_SRC
** what else?
*** powershell
**** sample
#+BEGIN_SRC
while (1) { date; sleep 3 }
#+END_SRC
*** ruby
** for what?
* security
** layer
*** tree
**** cisco
*** leaf
* operating system
** kinds of
** linux
**** kali
**** debian
**** android
** windows
*** registry
**** at

- https://msdn.microsoft.com/en-us/library/ms724877%28v=vs.85%29.aspx

**** with

- reg, regedit

** deep
*** process
*** file system
** lots of
*** capistrano
* malware
** pentesting tool

- Exploit pack
- Metasploit, Armitage(GUI)

** exploit kit
*** Angler
*** Neutrino
** DONE ransomware

http://www.rancert.com/prevent.php
http://www.ahnlab.com/kr/site/securityinfo/ransomware/index.do

*** Locky

- by email, attachment file using office macro then javascript 
- drive-by-download, Neutrino EK
- tail : .locky
- _Locky_recover_instructions.txt
- Command: vssadmin.exe Delete Shadows /All /Quiet

*** TeslaCrypt 3.0

- tail : .mp3
- RECOVERRmhwqb.txt

*** CryptoWall

- tail : .vvv

*** Linux.Encoder.1 / Dr. Web

- tail : .encrypted
- [[https://labs.bitdefender.com/2015/11/linux-ransomware-debut-fails-on-predictable-encryption-key/][No need to crack RSA when you can guess the key]]

*** dig
**** even image or more
**** office macro
**** pdf

- adobe specific javascript API
  
**** flash, java, silverlight
**** javascript

***** obfuscation

- have to know about javascript itself
- use sed for \x61 (a)

****** lispy way

1. (eval func)
2. (cond (string eval))

**** ransomware

***** shellcode do something

- call Crypto API

***** care shadow copy

- wmic shadowcopy delete
- vssadmin delete shadows /all /quiet

**** sdelete

- delete key file

**** GnuPG

- encryption
- or openssl

** windows script host, wsh, jscript, vbs

http://www.thewindowsclub.com/windows-script-host-access-is-disabled-on-this-machine

#+BEGIN_SRC

C:\>reg query "HKLM\Software\Microsoft\Windows Script Host\Settings"

HKEY_LOCAL_MACHINE\Software\Microsoft\Windows Script Host\Settings
    DisplayLogo    REG_SZ    1
    ActiveDebugging    REG_SZ    1
    SilentTerminate    REG_SZ    0
    UseWINSAFER    REG_SZ    1

C:\tmp>REG ADD "HKLM\Software\Microsoft\Windows Script Host\Settings" /v Enabled /t REG_SZ /d 0

C:\Users\see>reg query "HKLM\Software\Microsoft\Windows Script Host\Settings" | findstr Enabled
    Enabled    REG_SZ    0

C:\tmp>cscript foo.vbs
Windows Script Host access is disabled on this machine. Contact your administrator for details.

#+END_SRC

** policy, whilte
** vaccine
*** v3
*** Windows Defender for Windows 10 and Windows 8.1
*** Microsoft Security Essentials for Windows7 and Windows Vista
*** Microsoft Safety Scanner, just one time
** defense
*** Shadow Volume Copies then ShadowExplorer
*** Backup
*** inotify

- Linux Malware Detect

** packer, unpacker, compressor, obfuscation
** tool
*** gmer
*** pestudio
*** virustotal
*** officecat
*** offvis
*** http://jsbeautifier.org/
*** sigcheck -v

- using virustotal

*** sysinternals
* key tech
** for free, for free
- telegram messenger
- TLS, Transport Layer Security
** for money
*** ransomware, cryptoware
- Tip of the week: How to protect yourself from cryptoware
